# **Финансовое консольное приложение**

## **Общая идея решения**
Приложение разработано для **учета финансов** пользователей и позволяет:
- **Создавать, редактировать и удалять**:
  - **Счета** (банковские счета с балансом).
  - **Категории** (доходы/расходы).
  - **Операции** (финансовые транзакции).
- **Анализировать финансы**:
  - Подсчет разницы доходов и расходов за определенный период.
  - Группировка доходов и расходов по категориям.
- **Импорт и экспорт данных**:
  - Экспорт в **CSV, JSON, YAML**.
  - Импорт из **CSV, JSON, YAML**.
- **Измерять время выполнения команд** (через паттерн `Декоратор`).
- **Работать через консольный интерфейс**, вводя команды.

### **Изменения в функциональных требованиях**
- Добавлены команды для работы с анализом финансов.
- Расширены команды CRUD для удаления и обновления счетов и категорий.
- Улучшена архитектура за счет фасадов и паттернов проектирования.
- Реализовано покрытие тестами.

---

## **Применение принципов SOLID и GRASP**

### **Принципы SOLID**
| Принцип | Как реализован |
|---------|---------------|
| **S** | Разделены обязанности классов: `BankAccountFacade` отвечает за счета, `CategoryFacade` за категории. |
| **O** | Фасады (`OperationFacade`, `CategoryFacade`) расширяемы, но их код не изменяется. Новые команды можно добавить через `Command`. |
| **L** | `AnalyticsReport` — базовый класс для `BalanceDifferenceReport`, `CategoryGroupReport`, и они заменяют его без изменения логики. |
| **I** | `Command` разделен на разные команды. |
| **D** | Используются фасады и интерфейсы, зависимости абстрагированы. |

---

### **Принципы GRASP**
| Принцип | Как реализован |
|---------|---------------|
| **Information Expert** | Фасады (`BankAccountFacade`, `OperationFacade`) инкапсулируют всю логику управления данными. |
| **Controller** | `Main.java` выполняет роль контроллера, обрабатывая ввод пользователя. |
| **Low Coupling** | Разные части системы слабо связаны и могут изменяться независимо. |
| **High Cohesion** | Каждый класс выполняет одну конкретную задачу. |

---

## **Использованные паттерны GoF (Gang of Four)**

| Паттерн | Где реализован | Почему важен |
|---------|---------------|--------------|
| **Фасад** | `BankAccountFacade`, `OperationFacade`, `CategoryFacade`, `AnalyticsFacade` | Объединяет сложные операции в простые методы. |
| **Команда** | `CreateAccountCommand`, `DeleteCategoryCommand`, `AddOperationCommand`, `UpdateAccountCommand` | Позволяет реализовать отменяемые операции и гибко управлять действиями пользователя. |
| **Декоратор** | `TimingDecorator` | Позволяет добавить измерение времени выполнения команд без изменения их кода. |
| **Посетитель** | `BalanceAnalyticsVisitor`, `CategoryAnalyticsVisitor` | Разделяет обработку операций и аналитику. |
| **Шаблонный метод** | `CsvExporter`, `JsonExporter`, `YamlExporter` | Позволяет гибко расширять логику экспорта, не дублируя код. |
| **Фабрика** | `CategoryFactory`, `BankAccountFactory`, `OperationFactory` | Гарантирует создание валидных объектов, предотвращает ошибки. |

---

## Инструкция по запуску
1. **Клонируйте репозиторий:**
   ```sh
   git clone https://github.com/persikaleshka/finance_tracking_app.git
   ```
2. **Перейдите в директорию проекта:**
   ```sh
   cd finance_tracking_app
   cd bank
   ```
3. **Скомпилируйте и запустите приложение:**
   ```sh
   mvn clean compile exec:java -Dexec.mainClass="com.hse.Main"
   ```
4. **Запуск тестов**
    ```sh
    mvn clean test
    ```

## **Использование приложения**
После запуска программы появится меню:
    ```
    Выберите действие:
    1. Создать счет
    2. Обновить счет
    3. Удалить счет
    4. Создать категорию
    5. Удалить категорию
    6. Добавить операцию
    7. Удалить операцию
    8. Показать все счета
    9. Показать все категории
    10. Показать все операции
    11. Аналитика (баланс)
    12. Аналитика (по категориям)
    13. Выход
    Введите номер команды:
    ```

